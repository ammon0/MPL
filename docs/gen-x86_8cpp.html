<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MPL: src/gen-x86.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MPL
   </div>
   <div id="projectbrief">A retargetable back-end of a machine language translator.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">gen-x86.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>generates x86 assembler code from the portable program data.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;util/types.h&gt;</code><br />
<code>#include &lt;util/msg.h&gt;</code><br />
<code>#include &lt;mpl/ppd.hpp&gt;</code><br />
<code>#include &lt;<a class="el" href="gen_8hpp_source.html">mpl/gen.hpp</a>&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ae3ec72e16e35ff8e4df421ab2b7f14b7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7">reg_t</a> { <br />
&#160;&#160;<a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7a42a4ade1acd55a49164099104990e09f">A</a>, 
<a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7a3f2a77ecd272aa6d6b5902faa5e5fc68">B</a>, 
<a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7a739ce3f516592d245d16fd8a3893472c">C</a>, 
<a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7a77a6b11f9898c052926f1d49765861e8">D</a>, 
<br />
&#160;&#160;<a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7a6cbe5ff42f143903e1c67abf94613791">SI</a>, 
<a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7a527f7ffe8e4e1d4cd85dd9e61eed9795">DI</a>, 
<a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7af5a5119c2b95cc7f4f3e20f56576ee3e">BP</a>, 
<a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7a77c32937cb56776e7d96ed4b5e43e06b">SP</a>, 
<br />
&#160;&#160;<b>R8</b>, 
<b>R9</b>, 
<b>R10</b>, 
<b>R11</b>, 
<br />
&#160;&#160;<b>R12</b>, 
<b>R13</b>, 
<b>R14</b>, 
<a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7a17eeff2eb97b3d4877126bc24f4adf5b">R15</a>, 
<br />
&#160;&#160;<b>NUM_X86_REG</b>
<br />
 }<tr class="memdesc:ae3ec72e16e35ff8e4df421ab2b7f14b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">These are all the x86 "general purpose" registers.  <a href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ae3ec72e16e35ff8e4df421ab2b7f14b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaddaff51cae2293171eeb5130e5d3820"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaddaff51cae2293171eeb5130e5d3820"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#aaddaff51cae2293171eeb5130e5d3820">reg_width</a> { <br />
&#160;&#160;<b>bad_width</b>, 
<b>byte</b>, 
<b>word</b>, 
<b>dword</b>, 
<br />
&#160;&#160;<b>qword</b>
<br />
 }<tr class="memdesc:aaddaff51cae2293171eeb5130e5d3820"><td class="mdescLeft">&#160;</td><td class="mdescRight">These are the x86 register sizes. <br /></td></tr>
</td></tr>
<tr class="separator:aaddaff51cae2293171eeb5130e5d3820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1551b9e10500fdb7875a3aadde9a4504"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504">x86_inst</a> { <br />
&#160;&#160;<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a2e5a855a9bcd6e61d31576262e21991f">X_MOV</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a4b0133652fe42cd0e0dc381c60e646a1">X_MOVSX</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a857611c1bcf1a8d7374af280b23adc4c">X_MOVZX</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504ab7a78e913cab30e8030baa09e0d53a42">X_PUSH</a>, 
<br />
&#160;&#160;<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a77939251e0b3917e984d694683dfb0e0">X_POP</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a94f6b4dde9e01d9791df694ac6d422ca">X_PUSHAD</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a99ce24a2a7e5a0c2975cfc1f2a58dcd3">X_POPAD</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a183049f2e1ef4ae36d44c8d065c0d0db">X_INC</a>, 
<br />
&#160;&#160;<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a540ad5e20850438a45b9c296737d2f0c">X_DEC</a>, 
<b>X_ADD</b>, 
<b>X_SUB</b>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a5c05d894366bebdb8bdd6b45ab624e42">X_MUL</a>, 
<br />
&#160;&#160;<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a7660645e99e6afabce18837f593a79a0">X_IMUL</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a6f669edb1fa6616f03445080e88dc05a">X_DIV</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504aa96ec7197b290de816eed2c3554a84bf">X_IDIV</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a2385ddc12a05e97c070a4d1be2ba59a9">X_CMP</a>, 
<br />
&#160;&#160;<b>X_NEG</b>, 
<b>X_AND</b>, 
<b>X_OR</b>, 
<b>X_XOR</b>, 
<br />
&#160;&#160;<b>X_NOT</b>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504af208b177b827f30e3f866168d130396f">X_TEST</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a950f2fc4b49db7131dd7987f74de741a">X_SHR</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a792b8b6f128d81f770a699e7a7aecfe2">X_SHL</a>, 
<br />
&#160;&#160;<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a206d7e54cc22550c9ee397f2b0ec711c">X_ROR</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a90bde1317e8653242bdfb5b606ddfafb">X_ROL</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a79ab03cb76a7d795dc4811d65038ea30">X_JMP</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504af7311c94344f8e1b57dea50b66698336">X_JZ</a>, 
<br />
&#160;&#160;<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a3f7815bd5129ce6ca4fd66f7be59fd4a">X_JNZ</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a28d349557b7150d3271cadd32233ee87">X_LOOP</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504ab7bdcd27bbaabc47224c267bb5f76354">X_CALL</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504ae00f124a0ac842100ff1c7553d7ab5c6">X_RET</a>, 
<br />
&#160;&#160;<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504a19bee27224fc98d8f0d2f40c5d1b0140">X_IRET</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504ab2374c402ebea50ec4b8837ba1440859">X_INT</a>, 
<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504aac210c0e05521c602682900638c2a5fa">X_BOUND</a>, 
<b>X_ENTER</b>, 
<br />
&#160;&#160;<b>X_LEAVE</b>, 
<b>NUM_X86_INST</b>
<br />
 }<tr class="memdesc:a1551b9e10500fdb7875a3aadde9a4504"><td class="mdescLeft">&#160;</td><td class="mdescRight">These are the x86 instructions that we are working with.  <a href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a1551b9e10500fdb7875a3aadde9a4504"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aff65c60fe08d8ddf0189c25213070379"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff65c60fe08d8ddf0189c25213070379"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#aff65c60fe08d8ddf0189c25213070379">test_x86</a> (void)</td></tr>
<tr class="memdesc:aff65c60fe08d8ddf0189c25213070379"><td class="mdescLeft">&#160;</td><td class="mdescRight">runs the various functions through their various outputs. <br /></td></tr>
<tr class="separator:aff65c60fe08d8ddf0189c25213070379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a915230414dfd4acc2f8a50f869911e88"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a915230414dfd4acc2f8a50f869911e88"></a>
static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#a915230414dfd4acc2f8a50f869911e88">str_instruction</a> (<a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504">x86_inst</a> instruction)</td></tr>
<tr class="memdesc:a915230414dfd4acc2f8a50f869911e88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the correct assembler string for the given x86 instruction. <br /></td></tr>
<tr class="separator:a915230414dfd4acc2f8a50f869911e88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07fbd2a7774a2be17eeb63c7f3dd4bc3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a07fbd2a7774a2be17eeb63c7f3dd4bc3"></a>
static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#a07fbd2a7774a2be17eeb63c7f3dd4bc3">str_lbl</a> (<a class="el" href="operands_8hpp.html#structOperand">Operand</a> *operand)</td></tr>
<tr class="memdesc:a07fbd2a7774a2be17eeb63c7f3dd4bc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the label string for the given operand. <br /></td></tr>
<tr class="separator:a07fbd2a7774a2be17eeb63c7f3dd4bc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25cf5e545c724bd4471fec9670c39ad2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25cf5e545c724bd4471fec9670c39ad2"></a>
static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#a25cf5e545c724bd4471fec9670c39ad2">str_num</a> (umax num)</td></tr>
<tr class="memdesc:a25cf5e545c724bd4471fec9670c39ad2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a string representation of a number. <br /></td></tr>
<tr class="separator:a25cf5e545c724bd4471fec9670c39ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae5b4aa927cd7c891a276e23d361e972"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae5b4aa927cd7c891a276e23d361e972"></a>
static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#aae5b4aa927cd7c891a276e23d361e972">str_reg</a> (<a class="el" href="gen-x86_8cpp.html#aaddaff51cae2293171eeb5130e5d3820">reg_width</a> width, <a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7">reg_t</a> reg)</td></tr>
<tr class="memdesc:aae5b4aa927cd7c891a276e23d361e972"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the appropriate string to use the given x86 register. <br /></td></tr>
<tr class="separator:aae5b4aa927cd7c891a276e23d361e972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9f7fbd622275debb621388875cd79b7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af9f7fbd622275debb621388875cd79b7"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#af9f7fbd622275debb621388875cd79b7">put_cmd</a> (const char *format,...)</td></tr>
<tr class="memdesc:af9f7fbd622275debb621388875cd79b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a command string to the output file. <br /></td></tr>
<tr class="separator:af9f7fbd622275debb621388875cd79b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53a0411d2b871152a901890488486ef9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a53a0411d2b871152a901890488486ef9"></a>
static <a class="el" href="gen-x86_8cpp.html#aaddaff51cae2293171eeb5130e5d3820">reg_width</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#a53a0411d2b871152a901890488486ef9">set_width</a> (<a class="el" href="operands_8hpp.html#a244ff7d8ea62c19e66797a121531bf58">width_t</a> in)</td></tr>
<tr class="memdesc:a53a0411d2b871152a901890488486ef9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the appropriate x86 register width for the given data size. <br /></td></tr>
<tr class="separator:a53a0411d2b871152a901890488486ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39712275886f2769f6931093423a9abf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39712275886f2769f6931093423a9abf"></a>
static <a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7">reg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#a39712275886f2769f6931093423a9abf">check_reg</a> (<a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a> operand)</td></tr>
<tr class="memdesc:a39712275886f2769f6931093423a9abf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine whether an operand is already present in a register. <br /></td></tr>
<tr class="separator:a39712275886f2769f6931093423a9abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b70338de57515011d704861254acce2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b70338de57515011d704861254acce2"></a>
static RETURN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#a0b70338de57515011d704861254acce2">load</a> (<a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7">reg_t</a> reg, <a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a> mem)</td></tr>
<tr class="memdesc:a0b70338de57515011d704861254acce2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load data from memory to a register. <br /></td></tr>
<tr class="separator:a0b70338de57515011d704861254acce2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1cce19c436e97c1036fa33b58d5d58a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab1cce19c436e97c1036fa33b58d5d58a"></a>
static RETURN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#ab1cce19c436e97c1036fa33b58d5d58a">store</a> (<a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7">reg_t</a> reg)</td></tr>
<tr class="memdesc:ab1cce19c436e97c1036fa33b58d5d58a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store data in register to its appropriate memory location. <br /></td></tr>
<tr class="separator:ab1cce19c436e97c1036fa33b58d5d58a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e1206ccfcc1a77f54bafd451d269549"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e1206ccfcc1a77f54bafd451d269549"></a>
static <a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7">reg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#a1e1206ccfcc1a77f54bafd451d269549">get_reg</a> (<a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a> arg)</td></tr>
<tr class="memdesc:a1e1206ccfcc1a77f54bafd451d269549"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an appropriate register to store a result in. <br /></td></tr>
<tr class="separator:a1e1206ccfcc1a77f54bafd451d269549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fcb80afb2dfca5c9b5573bb46c35ae0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9fcb80afb2dfca5c9b5573bb46c35ae0"></a>
static RETURN&#160;</td><td class="memItemRight" valign="bottom"><b>ass</b> (<a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a> result, <a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a> arg)</td></tr>
<tr class="separator:a9fcb80afb2dfca5c9b5573bb46c35ae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d45789b969b2a7d4f8fab05d656d409"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2d45789b969b2a7d4f8fab05d656d409"></a>
static RETURN&#160;</td><td class="memItemRight" valign="bottom"><b>binary</b> (<a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a> result, <a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a> left, <a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a> right, <a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504">x86_inst</a> op)</td></tr>
<tr class="separator:a2d45789b969b2a7d4f8fab05d656d409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e347d3842bccce9a79eaf9937f4671"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa7e347d3842bccce9a79eaf9937f4671"></a>
static RETURN&#160;</td><td class="memItemRight" valign="bottom"><b>dref</b> (<a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a> result, <a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a> pointer)</td></tr>
<tr class="separator:aa7e347d3842bccce9a79eaf9937f4671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6603865c9bd783b36600aa8067401c59"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6603865c9bd783b36600aa8067401c59"></a>
static RETURN&#160;</td><td class="memItemRight" valign="bottom"><b>ref</b> (<a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a> result, <a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a> arg)</td></tr>
<tr class="separator:a6603865c9bd783b36600aa8067401c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad648d1f8adb59b6adaf49d46aa2b4b54"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad648d1f8adb59b6adaf49d46aa2b4b54"></a>
static RETURN&#160;</td><td class="memItemRight" valign="bottom"><b>unary</b> (<a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a> result, <a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a> arg, <a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504">x86_inst</a> op)</td></tr>
<tr class="separator:ad648d1f8adb59b6adaf49d46aa2b4b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73772ce57ffaa8856c28b69cb29b2a7f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a73772ce57ffaa8856c28b69cb29b2a7f"></a>
static RETURN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#a73772ce57ffaa8856c28b69cb29b2a7f">Gen_inst</a> (<a class="el" href="instructions_8hpp.html#a896753d46b1664588ef2b2241dc713e3">inst_pt</a> inst)</td></tr>
<tr class="memdesc:a73772ce57ffaa8856c28b69cb29b2a7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate code for a single intermediate instruction. <br /></td></tr>
<tr class="separator:a73772ce57ffaa8856c28b69cb29b2a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0fa5a5ccfb27c9bbd67501f0c8f16e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe0fa5a5ccfb27c9bbd67501f0c8f16e"></a>
static RETURN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#afe0fa5a5ccfb27c9bbd67501f0c8f16e">Gen_blk</a> (<a class="el" href="classInstructions.html">Instructions</a> *blk)</td></tr>
<tr class="memdesc:afe0fa5a5ccfb27c9bbd67501f0c8f16e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate code for a single basic block. <br /></td></tr>
<tr class="separator:afe0fa5a5ccfb27c9bbd67501f0c8f16e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53ff4c8ab223cf593c0d17d5935b88a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#a53ff4c8ab223cf593c0d17d5935b88a2">x86</a> (FILE *out_fd, <a class="el" href="classPPD.html">PPD</a> *prog, <a class="el" href="gen_8hpp.html#af5e435900db288a59f4d59d307d88a92">x86_mode_t</a> proccessor_mode)</td></tr>
<tr class="memdesc:a53ff4c8ab223cf593c0d17d5935b88a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate an x86 assembler file for the program data provided.  <a href="#a53ff4c8ab223cf593c0d17d5935b88a2">More...</a><br /></td></tr>
<tr class="separator:a53ff4c8ab223cf593c0d17d5935b88a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a39f99212109b4886a9501d85672011c2"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#a39f99212109b4886a9501d85672011c2">inst_array</a> [NUM_X86_INST]</td></tr>
<tr class="memdesc:a39f99212109b4886a9501d85672011c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">the assembler strings for each x86 instruction  <a href="#a39f99212109b4886a9501d85672011c2">More...</a><br /></td></tr>
<tr class="separator:a39f99212109b4886a9501d85672011c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad330fbcd57be0f0dd2d967a325b7a54b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#ad330fbcd57be0f0dd2d967a325b7a54b">reg_d</a> [NUM_X86_REG]</td></tr>
<tr class="memdesc:ad330fbcd57be0f0dd2d967a325b7a54b"><td class="mdescLeft">&#160;</td><td class="mdescRight">the register descriptor.  <a href="#ad330fbcd57be0f0dd2d967a325b7a54b">More...</a><br /></td></tr>
<tr class="separator:ad330fbcd57be0f0dd2d967a325b7a54b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22d3aec0f44980934b030e79948cd28a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a22d3aec0f44980934b030e79948cd28a"></a>
static <a class="el" href="classOperands.html">Operands</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#a22d3aec0f44980934b030e79948cd28a">ops</a></td></tr>
<tr class="memdesc:a22d3aec0f44980934b030e79948cd28a"><td class="mdescLeft">&#160;</td><td class="mdescRight">the operand index for the <a class="el" href="classPPD.html" title="This is a container for all the components of the portable program data. ">PPD</a> <br /></td></tr>
<tr class="separator:a22d3aec0f44980934b030e79948cd28a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27e3844523067fac169afead9a80260e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a27e3844523067fac169afead9a80260e"></a>
static String_Array *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#a27e3844523067fac169afead9a80260e">lbls</a></td></tr>
<tr class="memdesc:a27e3844523067fac169afead9a80260e"><td class="mdescLeft">&#160;</td><td class="mdescRight">the string space for the <a class="el" href="classPPD.html" title="This is a container for all the components of the portable program data. ">PPD</a> <br /></td></tr>
<tr class="separator:a27e3844523067fac169afead9a80260e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a600b792d6d2ff2e71096dfa60d97a3b0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a600b792d6d2ff2e71096dfa60d97a3b0"></a>
static FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#a600b792d6d2ff2e71096dfa60d97a3b0">fd</a></td></tr>
<tr class="memdesc:a600b792d6d2ff2e71096dfa60d97a3b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">the output file descriptor <br /></td></tr>
<tr class="separator:a600b792d6d2ff2e71096dfa60d97a3b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49375726c781e09cb1467f34ad7cccb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af49375726c781e09cb1467f34ad7cccb"></a>
static <a class="el" href="gen_8hpp.html#af5e435900db288a59f4d59d307d88a92">x86_mode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gen-x86_8cpp.html#af49375726c781e09cb1467f34ad7cccb">mode</a></td></tr>
<tr class="memdesc:af49375726c781e09cb1467f34ad7cccb"><td class="mdescLeft">&#160;</td><td class="mdescRight">the processor mode we are building for <br /></td></tr>
<tr class="separator:af49375726c781e09cb1467f34ad7cccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>generates x86 assembler code from the portable program data. </p>
<h2>Parameters</h2>
<p>Parameters and return values are passed in registers reducing the stack overhead. This also means that many of the registers need not be stored in the stack before the call.</p>
<p>Since some of the registers may be needed during the execution of a routine, the routine should allocate automaic variable space for each. If the routine makes a CALL it will need to store them all in their stack locations.</p>
<p>Parameters are stored in B, BP, SI, DI, C, D, A in that order</p>
<h2>Activation Record</h2>
<p>Activation Record <a class="el" href="classInstructions.html" title="A queue of program instructions. ">Instructions</a> |_____________________| | SP | PUSH / POP |_____________________| caller's responsability | IP | CALL / RET |_____________________| ____________________________ | parameter storage | &lt;- SP callee's responsability |_____________________| | automatic variables | |_____________________|</p>
<p>When each routine is called it must setup its own automaic variables as offsets of SP. But SP does not change. This way all the auto variables do not need to be recalculated each time another is added, and their size can be determined at runtime. The caller must push SP and then set SP past its own auto variables. On return it must pop SP. The callee need only call RET which works on the current SP automaically.</p>
<p>If we don't acutually use push and pop to setup the automaic variables then SP stays where it is, all of our offsets are calculated according to SP and BP becomes a general purpose register. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ae3ec72e16e35ff8e4df421ab2b7f14b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="gen-x86_8cpp.html#ae3ec72e16e35ff8e4df421ab2b7f14b7">reg_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>These are all the x86 "general purpose" registers. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ae3ec72e16e35ff8e4df421ab2b7f14b7a42a4ade1acd55a49164099104990e09f"></a>A&#160;</td><td class="fielddoc">
<p>Accumulator. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae3ec72e16e35ff8e4df421ab2b7f14b7a3f2a77ecd272aa6d6b5902faa5e5fc68"></a>B&#160;</td><td class="fielddoc">
<p>General Purpose. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae3ec72e16e35ff8e4df421ab2b7f14b7a739ce3f516592d245d16fd8a3893472c"></a>C&#160;</td><td class="fielddoc">
<p>Counter. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae3ec72e16e35ff8e4df421ab2b7f14b7a77a6b11f9898c052926f1d49765861e8"></a>D&#160;</td><td class="fielddoc">
<p>Data. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae3ec72e16e35ff8e4df421ab2b7f14b7a6cbe5ff42f143903e1c67abf94613791"></a>SI&#160;</td><td class="fielddoc">
<p>Source Index. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae3ec72e16e35ff8e4df421ab2b7f14b7a527f7ffe8e4e1d4cd85dd9e61eed9795"></a>DI&#160;</td><td class="fielddoc">
<p>Destination Index. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae3ec72e16e35ff8e4df421ab2b7f14b7af5a5119c2b95cc7f4f3e20f56576ee3e"></a>BP&#160;</td><td class="fielddoc">
<p>Base Pointer (General Purpose) </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae3ec72e16e35ff8e4df421ab2b7f14b7a77c32937cb56776e7d96ed4b5e43e06b"></a>SP&#160;</td><td class="fielddoc">
<p>Stack Pointer. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae3ec72e16e35ff8e4df421ab2b7f14b7a17eeff2eb97b3d4877126bc24f4adf5b"></a>R15&#160;</td><td class="fielddoc">
<p>General Purpose. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="gen-x86_8cpp.html#a1551b9e10500fdb7875a3aadde9a4504">x86_inst</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>These are the x86 instructions that we are working with. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a2e5a855a9bcd6e61d31576262e21991f"></a>X_MOV&#160;</td><td class="fielddoc">
<p>copy data to a new location </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a4b0133652fe42cd0e0dc381c60e646a1"></a>X_MOVSX&#160;</td><td class="fielddoc">
<p>copy data to a larger location and sign extend </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a857611c1bcf1a8d7374af280b23adc4c"></a>X_MOVZX&#160;</td><td class="fielddoc">
<p>copy data to a larger location and zero extend </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504ab7a78e913cab30e8030baa09e0d53a42"></a>X_PUSH&#160;</td><td class="fielddoc">
<p>push data onto the stack </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a77939251e0b3917e984d694683dfb0e0"></a>X_POP&#160;</td><td class="fielddoc">
<p>pop data from the stack </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a94f6b4dde9e01d9791df694ac6d422ca"></a>X_PUSHAD&#160;</td><td class="fielddoc">
<p>push all registers onto the stack (invalid in 64) </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a99ce24a2a7e5a0c2975cfc1f2a58dcd3"></a>X_POPAD&#160;</td><td class="fielddoc">
<p>pop all registers from the stack (invalid in 64) </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a183049f2e1ef4ae36d44c8d065c0d0db"></a>X_INC&#160;</td><td class="fielddoc">
<p>Increment. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a540ad5e20850438a45b9c296737d2f0c"></a>X_DEC&#160;</td><td class="fielddoc">
<p>decrement </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a5c05d894366bebdb8bdd6b45ab624e42"></a>X_MUL&#160;</td><td class="fielddoc">
<p>unsigned multiplication </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a7660645e99e6afabce18837f593a79a0"></a>X_IMUL&#160;</td><td class="fielddoc">
<p>signed multiplication </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a6f669edb1fa6616f03445080e88dc05a"></a>X_DIV&#160;</td><td class="fielddoc">
<p>unsigned division </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504aa96ec7197b290de816eed2c3554a84bf"></a>X_IDIV&#160;</td><td class="fielddoc">
<p>Signed division. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a2385ddc12a05e97c070a4d1be2ba59a9"></a>X_CMP&#160;</td><td class="fielddoc">
<p>sets the status flags as if subtraction had occured </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504af208b177b827f30e3f866168d130396f"></a>X_TEST&#160;</td><td class="fielddoc">
<p>sets the status flags as if AND had occured </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a950f2fc4b49db7131dd7987f74de741a"></a>X_SHR&#160;</td><td class="fielddoc">
<p>bit shift right </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a792b8b6f128d81f770a699e7a7aecfe2"></a>X_SHL&#160;</td><td class="fielddoc">
<p>bit shift left </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a206d7e54cc22550c9ee397f2b0ec711c"></a>X_ROR&#160;</td><td class="fielddoc">
<p>bit rotate right </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a90bde1317e8653242bdfb5b606ddfafb"></a>X_ROL&#160;</td><td class="fielddoc">
<p>bit rotate left </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a79ab03cb76a7d795dc4811d65038ea30"></a>X_JMP&#160;</td><td class="fielddoc">
<p>jump </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504af7311c94344f8e1b57dea50b66698336"></a>X_JZ&#160;</td><td class="fielddoc">
<p>jump if zero </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a3f7815bd5129ce6ca4fd66f7be59fd4a"></a>X_JNZ&#160;</td><td class="fielddoc">
<p>jump if non-zero </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a28d349557b7150d3271cadd32233ee87"></a>X_LOOP&#160;</td><td class="fielddoc">
<p>loop with RCX counter </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504ab7bdcd27bbaabc47224c267bb5f76354"></a>X_CALL&#160;</td><td class="fielddoc">
<p>call a procedure </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504ae00f124a0ac842100ff1c7553d7ab5c6"></a>X_RET&#160;</td><td class="fielddoc">
<p>return from a procedure </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504a19bee27224fc98d8f0d2f40c5d1b0140"></a>X_IRET&#160;</td><td class="fielddoc">
<p>return from interrupt </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504ab2374c402ebea50ec4b8837ba1440859"></a>X_INT&#160;</td><td class="fielddoc">
<p>software interrupt </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1551b9e10500fdb7875a3aadde9a4504aac210c0e05521c602682900638c2a5fa"></a>X_BOUND&#160;</td><td class="fielddoc">
<p>check an index is within array bounds </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a53ff4c8ab223cf593c0d17d5935b88a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void x86 </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>out_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPPD.html">PPD</a> *&#160;</td>
          <td class="paramname"><em>prog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gen_8hpp.html#af5e435900db288a59f4d59d307d88a92">x86_mode_t</a>&#160;</td>
          <td class="paramname"><em>proccessor_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate an x86 assembler file for the program data provided. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out_fd</td><td>The file descriptor where the assembler commands will be written. </td></tr>
    <tr><td class="paramname">prog</td><td>The program data for which assembler code will be generated. </td></tr>
    <tr><td class="paramname">proccessor_mode</td><td>The x86 proccessor mode the code will be generated for. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a39f99212109b4886a9501d85672011c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* inst_array[NUM_X86_INST]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    <span class="stringliteral">&quot;mov&quot;</span>, <span class="stringliteral">&quot;movsx&quot;</span>, <span class="stringliteral">&quot;movzx&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;push&quot;</span>, <span class="stringliteral">&quot;pop&quot;</span>, <span class="stringliteral">&quot;pushad&quot;</span>, <span class="stringliteral">&quot;popad&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;inc&quot;</span>, <span class="stringliteral">&quot;dec&quot;</span>, <span class="stringliteral">&quot;add&quot;</span>, <span class="stringliteral">&quot;sub&quot;</span>, <span class="stringliteral">&quot;mul&quot;</span>, <span class="stringliteral">&quot;imul&quot;</span>, <span class="stringliteral">&quot;div&quot;</span>, <span class="stringliteral">&quot;idiv&quot;</span>, <span class="stringliteral">&quot;cmp&quot;</span>, <span class="stringliteral">&quot;neg&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;and&quot;</span>, <span class="stringliteral">&quot;or&quot;</span>, <span class="stringliteral">&quot;xor&quot;</span>, <span class="stringliteral">&quot;not&quot;</span>, <span class="stringliteral">&quot;test&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;shr&quot;</span>, <span class="stringliteral">&quot;shl&quot;</span>, <span class="stringliteral">&quot;ror&quot;</span>, <span class="stringliteral">&quot;rol&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;jump&quot;</span>, <span class="stringliteral">&quot;jz&quot;</span>, <span class="stringliteral">&quot;jnz&quot;</span>, <span class="stringliteral">&quot;loop&quot;</span>, <span class="stringliteral">&quot;call&quot;</span>, <span class="stringliteral">&quot;ret&quot;</span>, <span class="stringliteral">&quot;iret&quot;</span>, <span class="stringliteral">&quot;int&quot;</span>, <span class="stringliteral">&quot;bound&quot;</span>, <span class="stringliteral">&quot;enter&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;leave&quot;</span></div><div class="line">}</div></div><!-- fragment -->
<p>the assembler strings for each x86 instruction </p>

</div>
</div>
<a class="anchor" id="ad330fbcd57be0f0dd2d967a325b7a54b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="operands_8hpp.html#a42c6f1407a105aa4a368793c8b539dc5">op_pt</a> reg_d[NUM_X86_REG]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the register descriptor. </p>
<p>keeps track of what value is in each register at any time </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
